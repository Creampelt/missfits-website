let db=firebase.firestore();function isEmpty(e){if(!e.value){e.classList.contains("invalid")||e.classList.add("invalid");return!0}e.classList.contains("invalid")&&e.classList.remove("invalid");return!1}function invalidEmail(e){let a=document.getElementById(e.id+"-error");if(!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.value))){a.classList.contains("error-shown")||a.classList.add("error-shown");e.classList.contains("invalid")||e.classList.add("invalid");return!0}a.classList.contains("error-shown")&&a.classList.remove("error-shown");e.classList.contains("invalid")&&e.classList.remove("invalid");return!1}function validateProspectiveForm(e){let a=isEmpty(e.fname),l=isEmpty(e.lname),n=isEmpty(e.email)||invalidEmail(e.email),i=isEmpty(e["parent-email"])||invalidEmail(e["parent-email"]),s=isEmpty(e.school);return!(a||l||n||i||s)}function onProspectiveFormSubmit(e){if(!validateProspectiveForm(e)){return!1}let a=e.fname.value+" "+e.lname.value,l=e.email.value,n=parseInt(e.grade.value,10),i=e["parent-email"].value,s=e.school.value,t=e["team-source"].value,m=e.comments.value;db.collection("applications").add({name:a,email:l,grade:n,parentEmail:i,school:s,teamSource:t,comments:m}).then(()=>{e.fname.value="",e.lname.value="",e.email.value="",e.grade.value="9",e["parent-email"].value="",e.school.value="",e["team-source"].value="",e.comments.value="",alert("Your application has been received.")}).catch(e=>{alert("There was a problem submitting your application:\n"+e.message)});return!1}function validateDemoForm(e){let a=isEmpty(e.fname),l=isEmpty(e.lname),n=isEmpty(e.email)||invalidEmail(e.email);return!(a||l||n)}function onDemoFormSubmit(e){if(!validateDemoForm(e)){return!1}let a=e.fname.value+" "+e.lname.value,l=e.email.value,n=e.comments.value;db.collection("contact").add({name:a,email:l,comments:n}).then(()=>{e.fname.value="",e.lname.value="",e.email.value="",e.comments.value="",alert("Your submission has been received. We will get in touch with you as soon as possible.")}).catch(e=>{alert("There was a problem submitting your request.\n"+e.message)});return!1}
